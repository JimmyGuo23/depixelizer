<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Depixelizer : An online implementation of the hqx algorithm.  Implemented entirely in Javascript!" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type="text/javascript" src="hqx.js"></script>
		
    <title>Depixelizer</title>
	<script type="text/javascript">
		function ReadAndProcessURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();

				reader.onload = function (e) {
					var img = $('#blah')[0];
					$('#blah').attr('src', e.target.result);
					$('#blah').width(img.naturalWidth);
					$('#blah').height(img.naturalHeight);
					
					$("#hqx_images").empty();
					//$("#hqx_images").add( hqx(img, 4) );
					$("#hqx_images")[0].appendChild( hqx(img, 4) );
				}

				reader.readAsDataURL(input.files[0]);
			}
		}
		$(function() {
			$('#dropzone')
				.get(0)
				.addEventListener('drop', upload, false);

			function upload(event) { 
				/* Uploading will here. */
				alert("WIN!");
			}
		}
	</script>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/nickdarnell/depixelizer">View on GitHub</a>

          <h1 id="project_title">Depixelizer</h1>
          <h2 id="project_tagline">An online implementation of the hqx algorithm.  Implemented entirely in Javascript!</h2>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>Welcome to GitHub Pages.</h3>
		
		<p>
			<form method="post" wenctype="multipart/form-data">
				<input id="dropzone" type="file" class="droparea thumb" name="thumbnail" data-width="140" data-canvas="true">
				<input name="filesToUpload[]" id="filesToUpload" type="file" multiple="" />
			</form>
			
			<input type='file' onchange="ReadAndProcessURL(this);" />
			<img id="blah" src="#" alt="your image" />
			<div id="hqx_images"></div>
		</p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Depixelizer maintained by <a href="https://github.com/nickdarnell">nickdarnell</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
